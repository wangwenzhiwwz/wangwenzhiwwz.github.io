<!DOCTYPE html><html class="appearance-auto" lang="en"><head><meta charset="UTF-8"><title>苹果CMS</title><meta name="description" content="Life-long learning"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon_io/apple-touch-icon.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><link rel="stylesheet" href="/style/common/jquery.fancybox.min.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="
~ 演示网站：https://lijie.gq/
苹果CMS是一个影视，图片，小说等网站的，内容管理系统，被成为苹果CMS。开源免费十分好用
1.手动搭建方法更新系统apt update -y  &amp;amp;&amp;amp; apt upgrade -y &amp;amp;&amp;amp; apt install -y curl wget sudo socat
安装dockercurl -fsSL https://get.docker.com | sh

curl -L &amp;quot;https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)&amp;quot; -o /usr/local/bin/do.."></head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">WANGWENZHI's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">苹果CMS</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Click back to the top</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#苹果CMS是一个影视，图片，小说等网站的，内容管理系统，被成为苹果CMS。"><span class="toc-text">苹果CMS是一个影视，图片，小说等网站的，内容管理系统，被成为苹果CMS。</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-手动搭建方法"><span class="toc-text">1.手动搭建方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#更新系统"><span class="toc-text">更新系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装docker"><span class="toc-text">安装docker</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建目录"><span class="toc-text">创建目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置docker-compose"><span class="toc-text">配置docker-compose</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#申请证书"><span class="toc-text">申请证书</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#下载证书"><span class="toc-text">下载证书</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NGINX配置"><span class="toc-text">NGINX配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#下载源码"><span class="toc-text">下载源码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#下载主题"><span class="toc-text">下载主题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改登录设置"><span class="toc-text">修改登录设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#运行"><span class="toc-text">运行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#赋予权限"><span class="toc-text">赋予权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装PHP扩展"><span class="toc-text">安装PHP扩展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#重启php"><span class="toc-text">重启php</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看php扩展启用情况"><span class="toc-text">查看php扩展启用情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#后台自定义菜单管理主题"><span class="toc-text">后台自定义菜单管理主题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定时任务"><span class="toc-text">定时任务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-自动搭建方法"><span class="toc-text">2.自动搭建方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装python环境"><span class="toc-text">安装python环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#下载并配置自动化脚本"><span class="toc-text">下载并配置自动化脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#后台自定义菜单管理主题-1"><span class="toc-text">后台自定义菜单管理主题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定时任务-1"><span class="toc-text">定时任务</span></a></li></ol></li></ol></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/Docker"><i class="tag post-item-tag">Docker</i></a><a href="/tags/VPS"><i class="tag post-item-tag">VPS</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">苹果CMS</h1><time class="has-text-grey" datetime="2023-08-01T13:29:00.000Z">2023-08-01</time><article class="mt-2 post-content"><p><img src="https://wangwenzhi.eu.org/images/images/AppleCMS.png" alt=""></p>
<p>~ 演示网站：<a href="https://lijie.gq/" target="_blank" rel="noopener">https://lijie.gq/</a></p>
<h1 id="苹果CMS是一个影视，图片，小说等网站的，内容管理系统，被成为苹果CMS。"><a href="#苹果CMS是一个影视，图片，小说等网站的，内容管理系统，被成为苹果CMS。" class="headerlink" title="苹果CMS是一个影视，图片，小说等网站的，内容管理系统，被成为苹果CMS。"></a>苹果CMS是一个影视，图片，小说等网站的，内容管理系统，被成为苹果CMS。</h1><p>开源免费十分好用</p>
<h2 id="1-手动搭建方法"><a href="#1-手动搭建方法" class="headerlink" title="1.手动搭建方法"></a>1.手动搭建方法</h2><h3 id="更新系统"><a href="#更新系统" class="headerlink" title="更新系统"></a>更新系统</h3><pre><code>apt update -y  &amp;&amp; apt upgrade -y &amp;&amp; apt install -y curl wget sudo socat
</code></pre><h3 id="安装docker"><a href="#安装docker" class="headerlink" title="安装docker"></a>安装docker</h3><pre><code>curl -fsSL https://get.docker.com | sh

curl -L &quot;https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose

chmod +x /usr/local/bin/docker-compose
</code></pre><h3 id="创建目录"><a href="#创建目录" class="headerlink" title="创建目录"></a>创建目录</h3><pre><code>cd /home

mkdir web

cd web

mkdir html

mkdir mysql

mkdir certs

touch nginx.conf

nano docker-compose.yml
</code></pre><h3 id="配置docker-compose"><a href="#配置docker-compose" class="headerlink" title="配置docker-compose"></a>配置docker-compose</h3><p><a href="https://github.com/kejilion/docker/blob/main/LNMP-docker-compose.yml" target="_blank" rel="noopener">https://github.com/kejilion/docker/blob/main/LNMP-docker-compose.yml</a></p>
<h3 id="申请证书"><a href="#申请证书" class="headerlink" title="申请证书"></a>申请证书</h3><pre><code>curl https://get.acme.sh | sh

~/.acme.sh/acme.sh --register-account -m xxxx@gmail.com

~/.acme.sh/acme.sh --issue -d mac.kejilion.eu.org --standalone
</code></pre><h3 id="下载证书"><a href="#下载证书" class="headerlink" title="下载证书"></a>下载证书</h3><p>~/.acme.sh/acme.sh –installcert -d mac.kejilion.eu.org –key-file /home/web/certs/key.pem –fullchain-file /home/web/certs/cert.pem</p>
<h3 id="NGINX配置"><a href="#NGINX配置" class="headerlink" title="NGINX配置"></a>NGINX配置</h3><p><a href="https://github.com/kejilion/nginx/blob/main/nginx.conf" target="_blank" rel="noopener">https://github.com/kejilion/nginx/blob/main/nginx.conf</a></p>
<h3 id="下载源码"><a href="#下载源码" class="headerlink" title="下载源码"></a>下载源码</h3><p>cd /home/web/html &amp;&amp; wget <a href="https://github.com/magicblack/maccms_down/raw/master/maccms10.zip" target="_blank" rel="noopener">https://github.com/magicblack/maccms_down/raw/master/maccms10.zip</a> &amp;&amp; sudo apt-get install -y unzip &amp;&amp; unzip maccms10.zip &amp;&amp; rm maccms10.zip &amp;&amp; mv /home/web/html/maccms10-master/* /home/web/html/</p>
<h3 id="下载主题"><a href="#下载主题" class="headerlink" title="下载主题"></a>下载主题</h3><p>cd /home/web/html/template/ &amp;&amp; wget <a href="https://github.com/kejilion/Website_source_code/raw/main/DYXS2.zip" target="_blank" rel="noopener">https://github.com/kejilion/Website_source_code/raw/main/DYXS2.zip</a> &amp;&amp; unzip DYXS2.zip &amp;&amp; rm /home/web/html/template/DYXS2.zip </p>
<p>cp /home/web/html/template/DYXS2/asset/admin/Dyxs2.php /home/web/html/application/admin/controller </p>
<p>cp /home/web/html/template/DYXS2/asset/admin/dycms.html /home/web/html/application/admin/view/system</p>
<h3 id="修改登录设置"><a href="#修改登录设置" class="headerlink" title="修改登录设置"></a>修改登录设置</h3><p>mv /home/web/html/admin.php /home/web/html/vip.php &amp;&amp; wget -O /home/web/html/application/extra/maccms.php <a href="https://raw.githubusercontent.com/kejilion/Website_source_code/main/maccms.php" target="_blank" rel="noopener">https://raw.githubusercontent.com/kejilion/Website_source_code/main/maccms.php</a></p>
<h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><p>cd /home/web &amp;&amp; docker-compose up -d</p>
<h3 id="赋予权限"><a href="#赋予权限" class="headerlink" title="赋予权限"></a>赋予权限</h3><p>docker exec -it nginx chmod -R 777 /var/www/html</p>
<p>docker exec -it php chmod -R 777 /var/www/html</p>
<h3 id="安装PHP扩展"><a href="#安装PHP扩展" class="headerlink" title="安装PHP扩展"></a>安装PHP扩展</h3><p>docker exec php apt update &amp;&amp; docker exec php apt install -y libmariadb-dev-compat libmariadb-dev libzip-dev libmagickwand-dev imagemagick</p>
<p>docker exec php docker-php-ext-install pdo_mysql zip bcmath gd intl opcache</p>
<p>docker exec php pecl install imagick &amp;&amp; docker exec php sh -c ‘echo “extension=imagick.so” &gt; /usr/local/etc/php/conf.d/imagick.ini’</p>
<h3 id="重启php"><a href="#重启php" class="headerlink" title="重启php"></a>重启php</h3><p>docker restart php</p>
<h3 id="查看php扩展启用情况"><a href="#查看php扩展启用情况" class="headerlink" title="查看php扩展启用情况"></a>查看php扩展启用情况</h3><p>docker exec -it php php -m</p>
<h3 id="后台自定义菜单管理主题"><a href="#后台自定义菜单管理主题" class="headerlink" title="后台自定义菜单管理主题"></a>后台自定义菜单管理主题</h3><p>电影先生2.0,/vip.php/admin/Dyxs2/dyxs2set</p>
<h3 id="定时任务"><a href="#定时任务" class="headerlink" title="定时任务"></a>定时任务</h3><p>crontab -e</p>
<p>30 <em> </em> <em> </em> wget -O /dev/null <a href="https://mac.kejilion.eu.org/api.php/timming/index.html?enforce=1&amp;name=aa" target="_blank" rel="noopener">https://mac.kejilion.eu.org/api.php/timming/index.html?enforce=1&amp;name=aa</a></p>
<h2 id="2-自动搭建方法"><a href="#2-自动搭建方法" class="headerlink" title="2.自动搭建方法"></a>2.自动搭建方法</h2><p>Windows安装python</p>
<p><a href="https://www.python.org/" target="_blank" rel="noopener">https://www.python.org/</a></p>
<h3 id="安装python环境"><a href="#安装python环境" class="headerlink" title="安装python环境"></a>安装python环境</h3><p>cmd命令行输入下面的命令，到达目录安装依赖</p>
<p>cmd C:\py\</p>
<p>python -m pip install –upgrade pip</p>
<p>python -m pip install paramiko speedtest-cli </p>
<h3 id="下载并配置自动化脚本"><a href="#下载并配置自动化脚本" class="headerlink" title="下载并配置自动化脚本"></a>下载并配置自动化脚本</h3><p><a href="https://github.com/kejilion/python-for-vps/blob/main/%E4%B8%80%E9%94%AE%E6%89%80%E6%9C%89VPS%E9%83%A8%E7%BD%B2%E8%8B%B9%E6%9E%9CCMS.py" target="_blank" rel="noopener">苹果CMS自动化搭建脚本</a></p>
<h3 id="后台自定义菜单管理主题-1"><a href="#后台自定义菜单管理主题-1" class="headerlink" title="后台自定义菜单管理主题"></a>后台自定义菜单管理主题</h3><p>电影先生2.0,/vip.php/admin/Dyxs2/dyxs2set</p>
<h3 id="定时任务-1"><a href="#定时任务-1" class="headerlink" title="定时任务"></a>定时任务</h3><p>(crontab -l ; echo “30 <em> </em> <em> </em> wget -O /dev/null <a href="https://mac.kejilion.eu.org/api.php/timming/index.html?enforce=1&amp;name=aa" target="_blank" rel="noopener">https://mac.kejilion.eu.org/api.php/timming/index.html?enforce=1&amp;name=aa</a>“) | crontab -</p>
<p>差不多长这样！</p>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2023/08/01/2023/alist/" title="AList"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">Previous: AList</span></a><a class="button is-default" href="/2023/08/01/2023/NeZha/" title="哪吒监控"><span class="has-text-weight-semibold">Next: 哪吒监控</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="wangwenzhiwwz/wangwenzhiwwz.github.io" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com/wangwenzhiwwz"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/wangwenzhiwwz"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com/wangwenzhiwwz"><i class="iconfont icon-ins"></i></a><!-- 领英--><a title="linkedin" target="_blank" rel="noopener nofollow" href="//www.linkedin.com/in/wangwenzhi"><i class="iconfont icon-linkedin"></i></a><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com/wangwenzhiwwz"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> WANGWENZHI 2023</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="WANGWENZHI" href="//wangwenzhiwwz.github.io">WANGWENZHI&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" href="https://github.com/wangwenzhiwwz/wangwenzhiwwz.github.io" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/jquery-3.6.1.min.js"></script><script src="/js/jquery-fancybox.min.js"></script><script src="/js/img_zoom.js"></script><script src="/js/post.js"></script></body></html>